import{s as ne,b as oe,n as K,r as se,d as Q}from"./scheduler.3eNyPLpY.js";import{S as fe,i as ae,e as F,j as q,c as D,a as M,d as v,l as H,h as ie,b as V,f as L,n as b,q as X,r as B,v as G,w as P,E as g,A as J}from"./index.4uVSwjOY.js";import{e as S}from"./each.-oqiv04n.js";import{t as ce,f as he,d as ue,i as de,c as _e,A as me}from"./stores.wtQuvQLv.js";function Y(l,e,r){const n=l.slice();return n[24]=e[r],n}function Z(l,e,r){const n=l.slice();return n[27]=e[r],n[29]=r,n}function p(l,e,r){const n=l.slice();return n[30]=e[r],n[32]=r,n}function x(l,e,r){const n=l.slice();return n[24]=e[r],n}function $(l){let e,r=l[24]+"",n,f;return{c(){e=F("div"),n=G(r),f=q(),this.h()},l(o){e=D(o,"DIV",{class:!0});var t=M(e);n=P(t,r),f=H(t),t.forEach(v),this.h()},h(){V(e,"class","grow h-9 dark:text-secondary text-2xl font-bold text-center basis-0 border-2 border-transparent svelte-jhxf37"),g(e,"fretmarker-dot",O(l[24])),g(e,"fretmarker-double-dot",R(l[24]))},m(o,t){L(o,e,t),b(e,n),b(e,f)},p(o,t){t[0]&128&&r!==(r=o[24]+"")&&J(n,r),t[0]&128&&g(e,"fretmarker-dot",O(o[24])),t[0]&128&&g(e,"fretmarker-double-dot",R(o[24]))},d(o){o&&v(e)}}}function ee(l){let e,r="â™¯";return{c(){e=F("span"),e.textContent=r,this.h()},l(n){e=D(n,"SPAN",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1wr7dft"&&(e.textContent=r),this.h()},h(){V(e,"class","text-sm absolute top-0")},m(n,f){L(n,e,f)},d(n){n&&v(e)}}}function te(l){let e,r=l[4](l[30])+"",n,f,o=!l[0]&&l[30].length>1&&ee();return{c(){e=F("div"),n=G(r),f=q(),o&&o.c(),this.h()},l(t){e=D(t,"DIV",{class:!0});var c=M(e);n=P(c,r),f=H(c),o&&o.l(c),c.forEach(v),this.h()},h(){V(e,"class","grow h-8 text-2xl font-bold text-center basis-0 relative mask m-1 svelte-jhxf37"),g(e,"active",l[6](l[29],l[32],l[30])&&!l[5](l[30])),g(e,"root",l[5](l[30])&&l[6](l[29],l[32],l[30])),g(e,"mask-circle",l[1]>0||(l[3]?l[32]!==0:l[32]!==1)),g(e,"dark:text-secondary",!l[3]&&l[32]==0)},m(t,c){L(t,e,c),b(e,n),b(e,f),o&&o.m(e,null)},p(t,c){c[0]&272&&r!==(r=t[4](t[30])+"")&&J(n,r),!t[0]&&t[30].length>1?o||(o=ee(),o.c(),o.m(e,null)):o&&(o.d(1),o=null),c[0]&352&&g(e,"active",t[6](t[29],t[32],t[30])&&!t[5](t[30])),c[0]&352&&g(e,"root",t[5](t[30])&&t[6](t[29],t[32],t[30])),c[0]&10&&g(e,"mask-circle",t[1]>0||(t[3]?t[32]!==0:t[32]!==1)),c[0]&8&&g(e,"dark:text-secondary",!t[3]&&t[32]==0)},d(t){t&&v(e),o&&o.d()}}}function le(l){let e,r=S(l[27]),n=[];for(let f=0;f<r.length;f+=1)n[f]=te(p(l,r,f));return{c(){e=F("div");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0});var o=M(e);for(let t=0;t<n.length;t+=1)n[t].l(o);o.forEach(v),this.h()},h(){V(e,"class","flex w-full justify-evenly divide-slate-800")},m(f,o){L(f,e,o);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(f,o){if(o[0]&379){r=S(f[27]);let t;for(t=0;t<r.length;t+=1){const c=p(f,r,t);n[t]?n[t].p(c,o):(n[t]=te(c),n[t].c(),n[t].m(e,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=r.length}},d(f){f&&v(e),B(n,f)}}}function re(l){let e,r=l[24]+"",n,f;return{c(){e=F("div"),n=G(r),f=q(),this.h()},l(o){e=D(o,"DIV",{class:!0});var t=M(e);n=P(t,r),f=H(t),t.forEach(v),this.h()},h(){V(e,"class","grow h-8 mt-1 dark:text-secondary text-2xl font-bold text-center basis-0 border-2 border-transparent svelte-jhxf37"),g(e,"fretmarker-dot-bottom",O(l[24])),g(e,"fretmarker-double-dot-bottom",R(l[24]))},m(o,t){L(o,e,t),b(e,n),b(e,f)},p(o,t){t[0]&128&&r!==(r=o[24]+"")&&J(n,r),t[0]&128&&g(e,"fretmarker-dot-bottom",O(o[24])),t[0]&128&&g(e,"fretmarker-double-dot-bottom",R(o[24]))},d(o){o&&v(e)}}}function ge(l){let e,r,n,f,o,t,c,N,y,U="#",C,W;oe(l[22]);let E=S(l[7]),h=[];for(let s=0;s<E.length;s+=1)h[s]=$(x(l,E,s));let I=S(l[8]),u=[];for(let s=0;s<I.length;s+=1)u[s]=le(Z(l,I,s));let k=S(l[7]),d=[];for(let s=0;s<k.length;s+=1)d[s]=re(Y(l,k,s));return{c(){e=F("div"),r=F("div"),n=F("div");for(let s=0;s<h.length;s+=1)h[s].c();f=q();for(let s=0;s<u.length;s+=1)u[s].c();o=q(),t=F("div");for(let s=0;s<d.length;s+=1)d[s].c();c=q(),N=F("div"),y=F("button"),y.textContent=U,this.h()},l(s){e=D(s,"DIV",{class:!0});var _=M(e);r=D(_,"DIV",{class:!0});var i=M(r);n=D(i,"DIV",{class:!0});var m=M(n);for(let w=0;w<h.length;w+=1)h[w].l(m);m.forEach(v),f=H(i);for(let w=0;w<u.length;w+=1)u[w].l(i);o=H(i),t=D(i,"DIV",{class:!0});var T=M(t);for(let w=0;w<d.length;w+=1)d[w].l(T);T.forEach(v),c=H(i),N=D(i,"DIV",{class:!0,"data-tip":!0});var z=M(N);y=D(z,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(y)!=="svelte-15nqc5w"&&(y.textContent=U),z.forEach(v),i.forEach(v),_.forEach(v),this.h()},h(){V(n,"class","flex w-full center justify-evenly"),V(t,"class","flex w-full justify-evenly"),V(y,"class","ml-5 btn btn-xs btn-primary self-center max-w-fit mr-5"),V(N,"class","tooltip absolute bottom-1 right-0"),V(N,"data-tip","Toggle interval names"),V(r,"class","flex flex-col relative w-11/12 p-3 self-center border rounded border-primary divide-y-2 divide-dashed divide-slate-700"),V(e,"class","flex flex-col")},m(s,_){L(s,e,_),b(e,r),b(r,n);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(n,null);b(r,f);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(r,null);b(r,o),b(r,t);for(let i=0;i<d.length;i+=1)d[i]&&d[i].m(t,null);b(r,c),b(r,N),b(N,y),C||(W=[X(window,"resize",l[22]),X(y,"click",l[9])],C=!0)},p(s,_){if(_[0]&128){E=S(s[7]);let i;for(i=0;i<E.length;i+=1){const m=x(s,E,i);h[i]?h[i].p(m,_):(h[i]=$(m),h[i].c(),h[i].m(n,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=E.length}if(_[0]&379){I=S(s[8]);let i;for(i=0;i<I.length;i+=1){const m=Z(s,I,i);u[i]?u[i].p(m,_):(u[i]=le(m),u[i].c(),u[i].m(r,o))}for(;i<u.length;i+=1)u[i].d(1);u.length=I.length}if(_[0]&128){k=S(s[7]);let i;for(i=0;i<k.length;i+=1){const m=Y(s,k,i);d[i]?d[i].p(m,_):(d[i]=re(m),d[i].c(),d[i].m(t,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=k.length}},i:K,o:K,d(s){s&&v(e),B(h,s),B(u,s),B(d,s),C=!1,se(W)}}}const ve=1e3;function O(l){return l===3||l===5||l===7||l===9||l===15||l==17||l==19||l==21}function R(l){return l>1&&l%12===0}function be(l,e,r){let n,f,o,t,c,N,y,U,C,W,E,h;Q(l,ce,a=>r(20,E=a)),Q(l,he,a=>r(21,h=a));let{root:I}=e,{notes:u}=e,{showIntervals:k=!1}=e,{forceMiniView:d=!1}=e,{forceMicroView:s=!1}=e,{startingFret:_=0}=e,{forceHideStringNumbers:i=!1}=e,{activeFunction:m=null}=e,T=1/0;function z(){r(0,k=!k)}function w(){r(2,T=window.innerWidth)}return l.$$set=a=>{"root"in a&&r(10,I=a.root),"notes"in a&&r(11,u=a.notes),"showIntervals"in a&&r(0,k=a.showIntervals),"forceMiniView"in a&&r(12,d=a.forceMiniView),"forceMicroView"in a&&r(13,s=a.forceMicroView),"startingFret"in a&&r(1,_=a.startingFret),"forceHideStringNumbers"in a&&r(14,i=a.forceHideStringNumbers),"activeFunction"in a&&r(15,m=a.activeFunction)},l.$$.update=()=>{l.$$.dirty[0]&4100&&r(19,n=d||T<ve),l.$$.dirty[0]&8192&&r(18,f=s),l.$$.dirty[0]&802816&&r(3,o=i||n||f||!1),l.$$.dirty[0]&2883584&&r(16,t=n?8:f?5:h),l.$$.dirty[0]&1048576&&r(17,c=ue[E]),l.$$.dirty[0]&196618&&r(8,N=c.slice().reverse().map((a,A)=>{const j=new _e(me);return j.moveTo(a),_&&_>0&&j.moveForward(_),o?j.take(t):[`${A+1}`,...j.take(t)]})),l.$$.dirty[0]&65546&&r(7,y=o?Array(t).fill(0).map((a,A)=>A+_):[" ",...Array(t).fill(0).map((a,A)=>A+_)]),l.$$.dirty[0]&34816&&r(6,U=function(a,A,j){return m?m(a,A,j):u.includes(j)}),l.$$.dirty[0]&1024&&r(5,C=function(a){return a===I}),l.$$.dirty[0]&1025&&r(4,W=function(a){return k?de(I,a):a.length===1?a:a[0]}),l.$$.dirty[0]&10},[k,_,T,o,W,C,U,y,N,z,I,u,d,s,i,m,t,c,f,n,E,h,w]}class Ie extends fe{constructor(e){super(),ae(this,e,be,ge,ne,{root:10,notes:11,showIntervals:0,forceMiniView:12,forceMicroView:13,startingFret:1,forceHideStringNumbers:14,activeFunction:15},null,[-1,-1])}}export{Ie as F};
