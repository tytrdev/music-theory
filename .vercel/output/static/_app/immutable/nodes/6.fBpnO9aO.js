import{s as qe,b as De,r as He,n as Le}from"../chunks/scheduler.3eNyPLpY.js";import{S as Ve,i as Me,e as g,j as P,v as ae,C as Ne,c as x,h as L,l as k,a as V,w as oe,d,b as m,f as A,n as c,o as Se,x as G,q as le,D as K,t as ne,z as Oe,g as _e,r as me,k as je,m as Be,p as Fe,u as Re,B as Ue,y as $e,A as Ge}from"../chunks/index.4uVSwjOY.js";import{e as W}from"../chunks/each.-oqiv04n.js";import{N as Xe,b as Pe,c as ke,A as ze,I as ye}from"../chunks/stores.wtQuvQLv.js";import{F as Je}from"../chunks/Fretboard.EMDX3gMa.js";function Ae(l,t,o){const n=l.slice();return n[11]=t[o],n}function Ee(l,t,o){const n=l.slice();return n[14]=t[o],n}function Ke(l,t,o){const n=l.slice();return n[17]=t[o],n}function Qe(l){let t,o;return{c(){t=g("option"),o=ae(l[17]),this.h()},l(n){t=x(n,"OPTION",{});var r=V(t);o=oe(r,l[17]),r.forEach(d),this.h()},h(){t.__value=l[17],G(t,t.__value)},m(n,r){A(n,t,r),c(t,o)},p:Le,d(n){n&&d(t)}}}function we(l){let t,o=ye[l[14]]+"",n,r;return{c(){t=g("span"),n=ae(o),r=P(),this.h()},l(C){t=x(C,"SPAN",{class:!0});var v=V(t);n=oe(v,o),r=k(v),v.forEach(d),this.h()},h(){m(t,"class","mr-5")},m(C,v){A(C,t,v),c(t,n),c(t,r)},p(C,v){v&16&&o!==(o=ye[C[14]]+"")&&Ge(n,o)},d(C){C&&d(t)}}}function Ie(l){let t,o,n,r,C,v,p=W(l[11]),i=[];for(let s=0;s<p.length;s+=1)i[s]=we(Ee(l,p,s));return r=new Je({props:{root:l[3],notes:Pe(l[3],new ke(l[11]))}}),{c(){t=g("div");for(let s=0;s<i.length;s+=1)i[s].c();o=P(),n=g("div"),je(r.$$.fragment),C=P(),this.h()},l(s){t=x(s,"DIV",{class:!0});var S=V(t);for(let h=0;h<i.length;h+=1)i[h].l(S);S.forEach(d),o=k(s),n=x(s,"DIV",{class:!0});var N=V(n);Be(r.$$.fragment,N),C=k(N),N.forEach(d),this.h()},h(){m(t,"class","flex"),m(n,"class","flex flex-col w-full justify-center")},m(s,S){A(s,t,S);for(let N=0;N<i.length;N+=1)i[N]&&i[N].m(t,null);A(s,o,S),A(s,n,S),Fe(r,n,null),c(n,C),v=!0},p(s,S){if(S&16){p=W(s[11]);let h;for(h=0;h<p.length;h+=1){const M=Ee(s,p,h);i[h]?i[h].p(M,S):(i[h]=we(M),i[h].c(),i[h].m(t,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=p.length}const N={};S&8&&(N.root=s[3]),S&24&&(N.notes=Pe(s[3],new ke(s[11]))),r.$set(N)},i(s){v||(ne(r.$$.fragment,s),v=!0)},o(s){_e(r.$$.fragment,s),v=!1},d(s){s&&(d(t),d(o),d(n)),me(i,s),Re(r)}}}function We(l){let t,o="Holdsworth Scale Generator",n,r,C="Based on Allan Holdsworth's Approach to Scales",v,p,i,s,S,N,h,M="N = Number of scales to generate",Q,q,X="M = Maximum number of consecutive half steps",O,y,Y="X = Number of notes per scale",j,f,D,z="Root",Z,E,re,B,de="N",ie,w,ue,F,ve="M",ce,I,fe,R,ge="X",pe,T,ee,J,te,he,xe,Ce=W(ze),H=[];for(let e=0;e<Ce.length;e+=1)H[e]=Qe(Ke(l,Ce,e));let U=W(l[4]),_=[];for(let e=0;e<U.length;e+=1)_[e]=Ie(Ae(l,U,e));const Te=e=>_e(_[e],1,1,()=>{_[e]=null});return{c(){t=g("h1"),t.textContent=o,n=P(),r=g("p"),r.textContent=C,v=P(),p=g("div"),i=g("p"),s=ae("Total number of possible scales "),S=ae(l[5]),N=P(),h=g("p"),h.textContent=M,Q=P(),q=g("p"),q.textContent=X,O=P(),y=g("p"),y.textContent=Y,j=P(),f=g("div"),D=g("span"),D.textContent=z,Z=P(),E=g("select");for(let e=0;e<H.length;e+=1)H[e].c();re=P(),B=g("span"),B.textContent=de,ie=P(),w=g("input"),ue=P(),F=g("span"),F.textContent=ve,ce=P(),I=g("input"),fe=P(),R=g("span"),R.textContent=ge,pe=P(),T=g("input"),ee=P();for(let e=0;e<_.length;e+=1)_[e].c();J=Ne(),this.h()},l(e){t=x(e,"H1",{"data-svelte-h":!0}),L(t)!=="svelte-1r4nqm1"&&(t.textContent=o),n=k(e),r=x(e,"P",{"data-svelte-h":!0}),L(r)!=="svelte-1at6k8o"&&(r.textContent=C),v=k(e),p=x(e,"DIV",{class:!0});var a=V(p);i=x(a,"P",{});var u=V(i);s=oe(u,"Total number of possible scales "),S=oe(u,l[5]),u.forEach(d),N=k(a),h=x(a,"P",{"data-svelte-h":!0}),L(h)!=="svelte-110wmey"&&(h.textContent=M),Q=k(a),q=x(a,"P",{"data-svelte-h":!0}),L(q)!=="svelte-me09eo"&&(q.textContent=X),O=k(a),y=x(a,"P",{"data-svelte-h":!0}),L(y)!=="svelte-oqurwl"&&(y.textContent=Y),a.forEach(d),j=k(e),f=x(e,"DIV",{class:!0});var b=V(f);D=x(b,"SPAN",{class:!0,"data-svelte-h":!0}),L(D)!=="svelte-1wgkikx"&&(D.textContent=z),Z=k(b),E=x(b,"SELECT",{class:!0});var be=V(E);for(let $=0;$<H.length;$+=1)H[$].l(be);be.forEach(d),re=k(b),B=x(b,"SPAN",{class:!0,"data-svelte-h":!0}),L(B)!=="svelte-17n06dr"&&(B.textContent=de),ie=k(b),w=x(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),ue=k(b),F=x(b,"SPAN",{class:!0,"data-svelte-h":!0}),L(F)!=="svelte-dtc81w"&&(F.textContent=ve),ce=k(b),I=x(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),fe=k(b),R=x(b,"SPAN",{class:!0,"data-svelte-h":!0}),L(R)!=="svelte-nadyx1"&&(R.textContent=ge),pe=k(b),T=x(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),b.forEach(d),ee=k(e);for(let $=0;$<_.length;$+=1)_[$].l(e);J=Ne(),this.h()},h(){m(p,"class","flex flex-col center items-center align-center justify-center text-center"),m(D,"class","text-3xl mr-5 self-center"),m(E,"class","select select-lg select-primary mr-5"),l[3]===void 0&&De(()=>l[7].call(E)),m(B,"class","text-3xl mr-5 self-center"),m(w,"type","number"),m(w,"min","1"),m(w,"max","100"),m(w,"class","input input-lg input-bordered mr-5"),m(F,"class","text-3xl mr-5 self-center"),m(I,"type","number"),m(I,"min","1"),m(I,"max","100"),m(I,"class","input input-lg input-bordered mr-5"),m(R,"class","text-3xl mr-5 self-center"),m(T,"type","number"),m(T,"min","1"),m(T,"max","100"),m(T,"class","input input-lg input-bordered"),m(f,"class","flex mb-5 flex-col md:flex-row")},m(e,a){A(e,t,a),A(e,n,a),A(e,r,a),A(e,v,a),A(e,p,a),c(p,i),c(i,s),c(i,S),c(p,N),c(p,h),c(p,Q),c(p,q),c(p,O),c(p,y),A(e,j,a),A(e,f,a),c(f,D),c(f,Z),c(f,E);for(let u=0;u<H.length;u+=1)H[u]&&H[u].m(E,null);Se(E,l[3],!0),c(f,re),c(f,B),c(f,ie),c(f,w),G(w,l[2]),c(f,ue),c(f,F),c(f,ce),c(f,I),G(I,l[1]),c(f,fe),c(f,R),c(f,pe),c(f,T),G(T,l[0]),A(e,ee,a);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(e,a);A(e,J,a),te=!0,he||(xe=[le(E,"change",l[7]),le(w,"input",l[8]),le(I,"input",l[9]),le(T,"input",l[10])],he=!0)},p(e,[a]){if(a&8&&Se(E,e[3]),a&4&&K(w.value)!==e[2]&&G(w,e[2]),a&2&&K(I.value)!==e[1]&&G(I,e[1]),a&1&&K(T.value)!==e[0]&&G(T,e[0]),a&24){U=W(e[4]);let u;for(u=0;u<U.length;u+=1){const b=Ae(e,U,u);_[u]?(_[u].p(b,a),ne(_[u],1)):(_[u]=Ie(b),_[u].c(),ne(_[u],1),_[u].m(J.parentNode,J))}for(Ue(),u=U.length;u<_.length;u+=1)Te(u);Oe()}},i(e){if(!te){for(let a=0;a<U.length;a+=1)ne(_[a]);te=!0}},o(e){_=_.filter(Boolean);for(let a=0;a<_.length;a+=1)_e(_[a]);te=!1},d(e){e&&(d(t),d(n),d(r),d(v),d(p),d(j),d(f),d(ee),d(J)),me(H,e),me(_,e),he=!1,He(xe)}}}function se(l){return l<=0?1:l*se(l-1)}function Ye(l,t,o){let n,r,C=5,v=Xe.C,p=3,i=10;const s=se(12)/(se(8)*se(4));console.log("Generated Scales: ",r);function S(){v=$e(this),o(3,v)}function N(){i=K(this.value),o(2,i)}function h(){p=K(this.value),o(1,p)}function M(){C=K(this.value),o(0,C)}return l.$$.update=()=>{l.$$.dirty&6&&o(6,n=function(Q){const q=[0,1,2,3,4,5,6,7,8,9,10,11],X=[];function O(y,Y,j){if(!(X.length>=i)&&!(j>=p)){if(y.length===Q){X.push(y);return}for(let f=Y;f<q.length;f++){const D=y.length>0?y[y.length-1]:1/0,z=q[f];z-D===1?O(y.concat(z),f+1,j+1):O(y.concat(z),f+1,0)}}}return O([],0,0),X}),l.$$.dirty&65&&o(4,r=n(C))},[C,p,i,v,r,s,n,S,N,h,M]}class st extends Ve{constructor(t){super(),Me(this,t,Ye,We,qe,{})}}export{st as component};
